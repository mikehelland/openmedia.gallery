<!DOCTYPE html>
<html>

<head>
    <meta property="og:image" content="http://openmusic.gallery/img/omg_banner.png"/>
    <meta property="og:description" content="Find, create, and customize music for your project. For Free."/>
    <meta property="og:title" content="OpenMusic.Gallery"/>
    <meta property="og:url" content="http://openmusic.gallery"/>
    <title>OpenMusic.Gallery - Docs</title>
   <link rel="stylesheet" type="text/css" href="/css/main.css">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   
   <style>
       @media (max-width:750px){
            .main-nav {
                display:none;
            }
        }
       .main-column {
           background-color: white;
           color:black;
           padding: 1em;
           flex-grow: 1;
       }
       .footer {
           text-align: center;
       }
       hr {
           border:1px solid #CCCCCC;
       }
       .main-nav {
           overflow-y: auto;
           width:220px;
           min-width: 220px;
       }
       .main-body {
           display: flex;
           width:100%;
       }

   </style>
</head>

<body>

<header>
    <div class="main-page-link">
        <span class="main-nav-drawer-icon">&#9776;</span>
        <a href="/"><span class="main-title-open">Open</span><span class="main-title-media">Music</span><span class="main-title-gallery">.Gallery</span></a>
    </div>

    <div class="title-bar-user-controls"></div>

</header>    

<div class="main-body">


    <nav  class="main-nav">
        <a class="nav-list-item" href="/">Home</a>
        <a class="nav-list-item" href="?what-is-this">What is this?</a>
        <a class="nav-list-item" href="?gallery-basics">Gallery Basics</a>
        <a class="nav-list-item" href="?uploading">Uploading</a>
        <a class="nav-list-item" href="?editor">Create</a>
        <a class="nav-list-item" href="?vertical-surface">Vertical Surface</a>
        <a class="nav-list-item" href="?sequencer-surface">Sequencer Surface</a>
        <a class="nav-list-item" href="?game-dev">Game Development</a>
        <a class="nav-list-item" href="?live">Live</a>
        <a class="nav-list-item" href="?midi">MIDI</a>
        <a class="nav-list-item" href="?btc">BTC Tip Jar</a>
        <a class="nav-list-item" href="?all-videos">All Videos</a>
        <a class="nav-list-item" href="/about.htm">About</a>
        <!--todo recent list somewhere?-->
    </nav>
    
    
    <div class="main-column">
    
    </div>

</div> <!--main-body-->
<script>
    var page = location.search.substr(1) || "what-is-this" 
    var header = ""
    var footer = "<hr><div class='footer'>"

    var links = document.getElementsByTagName("a")
    for (var i = 0; i < links.length; i++) {
        if (links[i].href.indexOf("?" + page) > -1) {
            links[i].style.backgroundColor = "#606060"
            header = "<div class='doc-header'>Docs > <i>" + links[i].innerHTML + "</i><hr></div>"
            if (i > 1) {
                footer = footer + "<a href='" + links[i - 1].href + "'>" + links[i - 1].innerHTML + "</a> < Prev |"
            }
            if (i < links.length - 1) {
                footer = footer + " Next > <a href='" + links[i + 1].href + "'>" + links[i + 1].innerHTML + "</a>"
            }
        }
    }
    footer += "</div>"


    var xhr = new XMLHttpRequest()
    xhr.open("GET", page)
    xhr.onreadystatechange = (e) => {
        document.getElementsByClassName("main-column")[0].innerHTML = header + xhr.responseText + footer
    }
    xhr.send()

    var menuVisible = false;
    document.getElementsByClassName("main-nav-drawer-icon")[0].onclick = function () {
        document.getElementsByClassName("main-nav")[0].style.display = menuVisible ? 
                "" : "block";
        menuVisible = !menuVisible;
    };

</script>
</body>

</html>
